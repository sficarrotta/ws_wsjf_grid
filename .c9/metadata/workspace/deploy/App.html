{"filter":false,"title":"App.html","tooltip":"/deploy/App.html","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"start":{"row":9,"column":16},"end":{"row":9,"column":48},"action":"insert","lines":["var Ext=window.Ext4||window.Ext;"]},{"start":{"row":9,"column":137},"end":{"row":9,"column":207},"action":"remove","lines":["releaseCombobox=this.add({xtype:\"rallyreleasecombobox\",allowNoEntry:!0"]},{"start":{"row":9,"column":137},"end":{"row":9,"column":600},"action":"insert","lines":["_boxcontainer=Ext.create(\"Ext.form.Panel\",{title:\"Grid Filters\",layout:{type:\"hbox\"},width:\"95%\",bodyPadding:10}),this._releaseCombobox=this.add({xtype:\"rallyreleasecombobox\",stateful:!0,padding:5,stateId:this.getContext().getScopedStateId(\"release\"),allowNoEntry:!0,noEntryValue:\"/release/-1\",clearText:\"-- Ignore Release Filter --\",allowClear:!0,emptyText:\"Filter by release...\",context:this.getContext(),defaultToCurrentTimebox:!1,defaultSelectionPosition:null"]},{"start":{"row":9,"column":633},"end":{"row":9,"column":652},"action":"remove","lines":["ComboboxLoad,change"]},{"start":{"row":9,"column":633},"end":{"row":9,"column":649},"action":"insert","lines":["Available,select"]},{"start":{"row":9,"column":666},"end":{"row":9,"column":674},"action":"remove","lines":["omboboxC"]},{"start":{"row":9,"column":698},"end":{"row":9,"column":800},"action":"remove","lines":["ComboboxLoad:function(){var query=this.releaseCombobox.getQueryFromSelected();this._loadFeatures(query"]},{"start":{"row":9,"column":698},"end":{"row":9,"column":867},"action":"insert","lines":["Available:function(combo){combo.getStore().getAt(0).set(\"formattedName\",\"-- Ignore Release Filter --\"),this._boxcontainer.add(this._releaseCombobox),this._addPICombobox("]},{"start":{"row":9,"column":881},"end":{"row":9,"column":889},"action":"remove","lines":["omboboxC"]},{"start":{"row":9,"column":908},"end":{"row":9,"column":914},"action":"remove","lines":["myGrid"]},{"start":{"row":9,"column":908},"end":{"row":9,"column":1001},"action":"insert","lines":["piCombobox&&(console.log(\"resetting filter\"),0===this._piCombobox.getRecord().get(\"Ordinal\"))"]},{"start":{"row":9,"column":1007},"end":{"row":9,"column":1012},"action":"remove","lines":["store"]},{"start":{"row":9,"column":1007},"end":{"row":9,"column":1011},"action":"insert","lines":["grid"]},{"start":{"row":9,"column":1017},"end":{"row":9,"column":1058},"action":"remove","lines":["_myGrid.getStore();store.clearFilter(!0),"]},{"start":{"row":9,"column":1017},"end":{"row":9,"column":1139},"action":"insert","lines":["down(\"rallygrid\"),store=grid.getStore(),filter=this._getReleaseFilter();store.clearFilter(filter.length>0),filter.length&&"]},{"start":{"row":9,"column":1157},"end":{"row":9,"column":1158},"action":"remove","lines":["r"]},{"start":{"row":9,"column":1157},"end":{"row":9,"column":1162},"action":"insert","lines":["_getR"]},{"start":{"row":9,"column":1168},"end":{"row":9,"column":1772},"action":"remove","lines":["Combobox.getQueryFromSelected())}else{var query=this.releaseCombobox.getQueryFromSelected();this._loadFeatures(query)}},_loadFeatures:function(query){Ext.create(\"Rally.data.WsapiDataStore\",{model:\"PortfolioItem/Feature\",autoLoad:!0,filters:query,remoteSort:!1,listeners:{load:function(store,records,success){this._calculateScore(records),this._updateGrid(store)},update:function(store,rec,modified,opts){this._calculateScore([rec])},scope:this},fetch:[\"Name\",\"FormattedID\",\"Release\",\"c_ValuetoWK\",\"c_ImportancetotheMarket\",\"c_DissatisfactionwithCurrentSolution\",\"ValueScore\",\"c_EffortandRisktoDeliver\"]})"]},{"start":{"row":9,"column":1168},"end":{"row":9,"column":3024},"action":"insert","lines":["Filter())}},_addPICombobox:function(){this._piCombobox=this.add({xtype:\"rallyportfolioitemtypecombobox\",padding:5,listeners:{ready:this._onPICombobox,select:this._onPICombobox,scope:this}}),this._boxcontainer.add(this._piCombobox),this._checkbox=this.add({xtype:\"rallycheckboxfield\",fieldLabel:\"Show Values After the Decimal\",labelWidth:200,padding:\"5, 5, 5, 10\",stateful:!0,stateId:this.getContext().getScopedStateId(\"mycheckbox\"),stateEvents:[\"change\"],value:!1,listeners:{change:this._onPICombobox,scope:this}}),this._boxcontainer.add(this._checkbox),this.add(this._boxcontainer)},_onPICombobox:function(){if(this._piCombobox){var selectedType=this._piCombobox.getRecord();0===this._piCombobox.getRecord().get(\"Ordinal\")?this._releaseCombobox.enable():this._releaseCombobox.disable(),Rally.data.ModelFactory.getModel({type:selectedType.get(\"TypePath\"),success:function(model){if(void 0===this._myGrid)Ext.create(\"Rally.data.WsapiDataStore\",{model:model,autoLoad:!0,filters:this._getReleaseFilter(),remoteSort:!1,listeners:{load:function(store,records,success){this._calculateScore(records),this._updateGrid(store)},update:function(store,rec,modified,opts){this._calculateScore([rec])},scope:this},fetch:[\"Name\",\"FormattedID\",\"Release\",\"c_ValuetoWK\",\"c_ImportancetotheMarket\",\"c_DissatisfactionwithCurrentSolution\",\"ValueScore\",\"c_EffortandRisktoDeliver\"]});else{this._myGrid.reconfigureWithModel(model);var store=this._myGrid.getStore();if(0===this._piCombobox.getRecord().get(\"Ordinal\")){var filter=this._getReleaseFilter();store.clearFilter(filter.length>0),filter.length&&store.filter(this._getReleaseFilter())}var that=this;store.addListener(\"update\",function(store,rec,modified,opts){that._calculateScore([rec])}),store.addListener(\"load\",function(store,records,modified,opts){that._calculateScore(records),that._updateGrid(store)})}},scope:this})}"]},{"start":{"row":9,"column":3060},"end":{"row":9,"column":3074},"action":"insert","lines":["var that=this;"]},{"start":{"row":9,"column":3597},"end":{"row":9,"column":3601},"action":"remove","lines":[";if("]},{"start":{"row":9,"column":3597},"end":{"row":9,"column":3668},"action":"insert","lines":[",isChecked=!1;if(that._checkbox&&(isChecked=that._checkbox.getValue()),"]},{"start":{"row":9,"column":3688},"end":{"row":9,"column":3689},"action":"remove","lines":["="]},{"start":{"row":9,"column":3688},"end":{"row":9,"column":3705},"action":"insert","lines":[";score=isChecked?"]},{"start":{"row":9,"column":3716},"end":{"row":9,"column":3722},"action":"insert","lines":["100*(("]},{"start":{"row":9,"column":3731},"end":{"row":9,"column":3732},"action":"remove","lines":["*"]},{"start":{"row":9,"column":3731},"end":{"row":9,"column":3732},"action":"insert","lines":["+"]},{"start":{"row":9,"column":3741},"end":{"row":9,"column":3742},"action":"remove","lines":["*"]},{"start":{"row":9,"column":3741},"end":{"row":9,"column":3742},"action":"insert","lines":["+"]},{"start":{"row":9,"column":3746},"end":{"row":9,"column":3799},"action":"insert","lines":[")/jobSize))/100:Math.floor((userValue+timeValue+OERR)"]},{"start":{"row":9,"column":3811},"end":{"row":9,"column":3812},"action":"remove","lines":[";"]},{"start":{"row":9,"column":3811},"end":{"row":9,"column":3812},"action":"insert","lines":[","]},{"start":{"row":9,"column":3843},"end":{"row":9,"column":3848},"action":"remove","lines":["Value"]},{"start":{"row":9,"column":3843},"end":{"row":9,"column":3847},"action":"insert","lines":["WSJF"]},{"start":{"row":9,"column":3988},"end":{"row":9,"column":4059},"action":"insert","lines":["showPagingToolbar:!0,pagingToolbarCfg:{pageSizes:[50,100,200,500,1e3]},"]},{"start":{"row":9,"column":4072},"end":{"row":9,"column":4084},"action":"insert","lines":["width:\"98%\","]},{"start":{"row":9,"column":4098},"end":{"row":9,"column":4154},"action":"insert","lines":["enableBulkEdit:!0,enableRanking:!0,defaultSortToRank:!0,"]},{"start":{"row":9,"column":4544},"end":{"row":9,"column":4555},"action":"insert","lines":[",scope:this"]},{"start":{"row":9,"column":4694},"end":{"row":9,"column":4826},"action":"insert","lines":[",_getReleaseFilter:function(){var combo=this.down(\"rallyreleasecombobox\");return combo.getValue()?[combo.getQueryFromSelected()]:[]}"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":14,"column":15},"end":{"row":14,"column":15},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1415197782000,"hash":"78c1ea50bd7fc87b79c4ebde8e8ade7828c23436"}